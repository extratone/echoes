nie.define(function(){isRunning=!1;var e={setClick:function(){$("#uID").blur(function(){return/^[0-9]{11}$/gi.test($("#uID").val())?void Interface.fn.user_check("",$("#uID").val(),"",function(e){$(".tip").addClass("on").removeClass("err").addClass("succe").html("<span></span> Valid"),$(".nick").html(e.nick)},function(){$(".nick").text(""),$(".tip").addClass("on").removeClass("succe").addClass("err").html("<span></span> Character ID not Found")}):($(".nick").text(""),$(".tip").addClass("on").removeClass("succe").addClass("err").html("<span></span> Character ID not Found"))}),$("#confirm").click(function(){if(!/^[0-9]{11}$/gi.test($("#uID").val()))return $(".tip").addClass("on").removeClass("succe").addClass("err").html("<span></span> Character ID not Found");if(/^[A-z0-9]{8,13}$/gi.test($("#uCode").val())){if(isRunning)return;isRunning=!0,$(".pop .pop-zz").addClass("on"),Interface.fn.jihuo("",$("#uID").val(),$("#uCode").val(),"",function(){$("#txt").text("Congratulations! You've successfully redeemed your reward. Please log in to claim it."),$(".pop .content").addClass("on"),isRunning=!1,$("#uID").val(""),$("#uCode").val(""),$(".nick").text(""),$(".tip").removeClass("on").removeClass("succe").removeClass("err").html(""),gtag("event","success_confirm",{event_category:"Redeem"})},function(e){$("#txt").text("UID_ERROR"==e.code||-1!=e.msg.indexOf("id")?"Character ID not Found":"CODE_ERROR"==e.code?"Oops...Seems like the redemption code is incorrect, please review it and try again.":-1!=e.msg.indexOf("you have activated this type")||-1!=e.msg.indexOf("\u4f7f\u7528")||"REDEEMED_ALREADY"==e.code?"This character has already claimed the reward":-1!=e.msg.indexOf("\u9886\u53d6")||"CODE_USED"==e.code?"This redemption code has already been used":404==e.retcode?"Redemption code has already expired":e.retcode?"Network error, please try again later, error code = "+e.retcode:"Network error, please try again later."),$(".pop .content").addClass("on"),isRunning=!1})}else isRunning=!1,$("#txt").text("Oops...Seems like the redemption code is incorrect, please review it and try again."),$(".pop .pop-zz").addClass("on"),$(".pop .content").addClass("on")}),$(".close").click(function(){$(".pop .pop-zz").removeClass("on"),$(".pop .content").removeClass("on")}),$(".close2").click(function(){$(".pop2").removeClass("on")}),$(".needKnow p").click(function(){$(".pop2").addClass("on")}),$(".pop-zz").click(function(){$(".pop2").removeClass("on"),$(".pop").removeClass("on")});var e=$("body").width();e>=1920?($(".bgimg").show(),$(".wrap").removeClass("a1920")):($(".bgimg").hide(),$(".wrap").addClass("a1920")),$(window).resize(function(){var e=$("body").width();e>=1920?($(".bgimg").show(),$(".wrap").removeClass("a1920")):($(".bgimg").hide(),$(".wrap").addClass("a1920"))})},ajaxError:function(e){alert(-1!=e.msg.indexOf("token")?"\u767b\u5f55\u5df2\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55":e.msg)},init:function(){this.setClick()}};e.init()});